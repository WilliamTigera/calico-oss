---
title: Configuring Alertmanager
---

Full information about Alertmanager is available with [upstream documentation](https://prometheus.io/docs/alerting/configuration).

#### Inhibition

Alertmanager has a feature to suppress certain notifications when according to
defined rules. A typical use case of defining `inhibit` rules is to suppress
notifications from a lower priority alert when one with a higher priority is
firing. These inhibition rules are defined in the alertmanager configuration
file. You can define one by adding this configuration snippet to your
`alertmanager.yaml`.

		inhibit_rules:
		- source_match:
		    severity: 'critical'
		  target_match:
		    severity: 'info'
		  # Apply inhibition for alerts generated by the same alerting rule 
		  # and on the same node.
		  equal: ['alertname', 'instance']

#### Grouping

Alertmanager also has a feature to group alerts based on labels and fine tune
how often to resend an alert and so on. In the case of Denied Packet metrics,
simply defining a Prometheus alerting rule would mean that you will get an
page (if so defined in your alertmanager configuration) for every policy on
every node for every Source IP. All these alerts can be combined into a single
alert by configuring grouping. The Alertmanager configuration file that is
provided with the Essentials v1.x release by default, groups alerts on a
per-node basis. Instead, if the goal is to group all alerts with the same
name, edit (and apply) the alertmanager configuartion file like so:


		global:
		  resolve_timeout: 5m
		route:
		  group_by: ['alertname']
		  group_wait: 30s
		  group_interval: 1m
		  repeat_interval: 5m
		  receiver: 'webhook'
		receivers:
		- name: 'webhook'
		  webhook_configs:
		  - url: 'http://calico-alertmanager-webhook:30501/'

More information can be found under the (route section)[https://prometheus.io/docs/alerting/configuration/#route]
of the Alertmanager Configuration guide.
