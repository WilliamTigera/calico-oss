- apiVersion: projectcalico.org/v3
  kind: GlobalNetworkPolicy
  metadata:
    name: donottrack
  spec:
    selector: projectcalico.org/namespace == 'advanced-policy-demo'
    order: 500
    egress:
    - action: Deny
      destination:
        selector: type == 'production'
    doNotTrack: true
    applyOnForward: true
- apiVersion: projectcalico.org/v3
  kind: WorkloadEndpoint
  metadata:
    name: tigera--lwr--kubetest--02-k8s-nginx--2371676037--bk6v2-eth0
    namespace: advanced-policy-demo
    labels:
      app: frontend
      projectcalico.org/namespace: advanced-policy-demo
  spec:
    interfaceName: cali0ef24ba
    mac: ca:fe:1d:52:bb:e9
    ipNetworks:
    - 192.168.0.0/32
    profiles:
    - k8s-ns.advanced-policy-demo
    workload: nginx-2371676037-bk6v2
    orchestrator: k8s
    node: tigera-lwr-kubetest-02
    pod: nginx-2371676037-bk6v2
    endpoint: eth0
- apiVersion: projectcalico.org/v3
  kind: NetworkPolicy
  metadata:
    name: abcdefghijklmnopqrstuvwxyz
    namespace: advanced-policy-demo
  spec:
    selector: projectcalico.org/namespace == 'advanced-policy-demo'
    order: 400
    egress:
    - action: Allow
      destination:
        selector: projectcalico.org/namespace == 'advanced-policy-demo'
- apiVersion: projectcalico.org/v3
  kind: Profile
  metadata:
    name: k8s-ns.advanced-policy-demo
  spec:
    ingress:
    - action: Allow
      source:
        selector: projectcalico.org/namespace == 'advanced-policy-demo'
