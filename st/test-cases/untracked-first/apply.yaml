- apiVersion: v1
  kind: policy
  metadata:
    name: donottrack
  spec:
    selector: calico/k8s_ns == 'advanced-policy-demo'
    order: 500
    egress:
    - action: deny
      destination:
        selector: type == 'production'
    doNotTrack: true
- apiVersion: v1
  kind: workloadEndpoint
  metadata:
    name: eth0
    workload: advanced-policy-demo.nginx-2371676037-bk6v2
    orchestrator: k8s
    node: tigera-lwr-kubetest-02
    labels:
      app: frontend
      calico/k8s_ns: advanced-policy-demo
  spec:
    interfaceName: cali0ef24ba
    mac: ca:fe:1d:52:bb:e9
    ipNetworks:
    - 192.168.0.0/32
    profiles:
    - k8s_ns.advanced-policy-demo
- apiVersion: v1
  kind: policy
  metadata:
    name: abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ
  spec:
    selector: calico/k8s_ns == 'advanced-policy-demo'
    order: 400
    egress:
    - action: allow
      destination:
        selector: calico/k8s_ns == 'advanced-policy-demo'
- apiVersion: v1
  kind: profile
  metadata:
    name: k8s_ns.advanced-policy-demo
  spec:
    ingress:
    - action: allow
      source:
        selector: calico/k8s_ns == 'advanced-policy-demo'
